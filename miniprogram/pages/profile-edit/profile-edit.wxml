<view class="container" style="padding-top: {{paddingTop}}px">
  <view class="page-title">编辑资料</view>

  <!-- 信息卡片 -->
  <view class="group-card">
    <!-- 头像行 -->
    <button class="cell-row" open-type="chooseAvatar" bindchooseavatar="onChooseAvatar">
      <text class="cell-lbl">头像</text>
      <view class="cell-val">
        <image class="avatar" src="{{userInfo.avatarUrl || '/images/default.png'}}"></image>
        <text class="arrow">></text>
      </view>
    </button>
    
    <!-- 昵称行 -->
    <view class="cell-row">
      <text class="cell-lbl">昵称</text>
      <input class="cell-inp" type="nickname" value="{{userInfo.nickName}}" bindchange="onNickNameChange" placeholder="请输入"/>
    </view>

    <!-- 性别行 -->
    <picker range="{{['未知','男','女']}}" value="{{userInfo.gender}}" bindchange="onGenderChange">
      <view class="cell-row">
        <text class="cell-lbl">性别</text>
        <view class="cell-val">
          <text>{{['未知','男','女'][userInfo.gender]}}</text>
          <text class="arrow">></text>
        </view>
      </view>
    </picker>

    <!-- 职业行 -->
    <view class="cell-row last">
      <text class="cell-lbl">职业</text>
      <input class="cell-inp" value="{{userInfo.job}}" bindinput="bindInput" data-key="job" placeholder="请填写职业"/>
    </view>
  </view>

  <!-- 标签区域 -->
  <view class="section-header">
    <text>个人标签</text>
    <text class="sub">选择适合你的标签</text>
  </view>
  
  <view class="tags-wrap">
    <block wx:for="{{tagOptions}}" wx:key="*this">
      <view class="tag-pill {{tags[item] ? 'active' : ''}}" bindtap="toggleTag" data-tag="{{item}}">
        {{item}}
      </view>
    </block>
  </view>

  <button class="save-btn" bindtap="save">保存修改</button>
</view>