page { background: #F6F6F6; height: 100vh; overflow: hidden; }
.container { height: 100%; display: flex; flex-direction: column; }

/* 头部固定 */
.custom-header { position: fixed; top: 0; left: 0; width: 100%; background: #EDEDED; z-index: 999; border-bottom: 1rpx solid #dcdcdc; }
.header-row { width: 100%; height: 100%; display: flex; align-items: center; padding: 0 20rpx; position: relative; }
.back-btn-q { width: 64rpx; height: 64rpx; background: #FFFFFF; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.1); z-index: 1000; flex-shrink: 0; margin-right: 20rpx;}
.back-btn-q:active { transform: scale(0.9); background: #f0f0f0; }
.arrow-icon { width: 16rpx; height: 16rpx; border-left: 4rpx solid #333; border-bottom: 4rpx solid #333; transform: rotate(45deg); margin-left: 6rpx; }
.header-center { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; margin-right: 80rpx; }
.header-title { font-weight: bold; font-size: 30rpx; max-width: 400rpx; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; text-align: center; color: #000; }
.header-members { display: flex; align-items: center; margin-top: 4rpx; }
/* 小头像样式 */
.tiny-avt { width: 36rpx; height: 36rpx; border-radius: 50%; border: 2rpx solid #fff; margin-left: -8rpx; background: #ddd; }
.tiny-avt:first-child { margin-left: 0; }

.chat-scroll { width: 100%; height: 100%; box-sizing: border-box; }
.msg-container { margin-bottom: 30rpx; display: flex; flex-direction: column; padding: 0 20rpx; }
.align-left { align-items: flex-start; }
.align-right { align-items: flex-end; }

.msg-row { display: flex; align-items: flex-start; max-width: 90%; }
.avatar { width: 80rpx; height: 80rpx; border-radius: 10rpx; background: #ddd; flex-shrink: 0; margin-right: 16rpx; }

/* 消息列：包含昵称和气泡 */
.msg-col { display: flex; flex-direction: column; align-items: flex-start; }
/* 昵称样式 */
.nickname { font-size: 22rpx; color: #888; margin-bottom: 6rpx; margin-left: 4rpx; }

.bubble, .msg-img, .msg-loc, .msg-card { border-radius: 16rpx; position: relative; box-shadow: 0 2rpx 4rpx rgba(0,0,0,0.05); }
.bubble { padding: 20rpx 28rpx; font-size: 32rpx; line-height: 1.4; word-break: break-all; }
.msg-img { max-width: 300rpx; background: #fff; }
.msg-loc { width: 420rpx; background: #fff; padding: 20rpx; overflow: hidden; }
.loc-name { font-size: 28rpx; font-weight: bold; margin-bottom: 6rpx; color: #000; }
.loc-addr { font-size: 22rpx; color: #888; margin-bottom: 16rpx; }
.loc-map-placeholder { width: 100%; height: 150rpx; background: #eee; display: flex; align-items: center; justify-content: center; color: #aaa; font-size: 24rpx; border-radius: 8rpx;}
.msg-card { width: 460rpx; background: #fff; padding: 30rpx; overflow: hidden; border: 1rpx solid #eee; }
.msg-card.req { background: #F0F9FF; border-color: #BAE6FD; }
.msg-card.info { background: #FDFCE7; border-color: #FEF9C3; }
.card-title { font-weight: bold; font-size: 28rpx; margin-bottom: 16rpx; display: flex; align-items: center; }
.card-desc { font-size: 26rpx; color: #666; margin-bottom: 20rpx; }
.card-btn { background: #07C160; color: #fff; font-size: 24rpx; width: 100%; border-radius: 30rpx; }
.card-tip { font-size: 22rpx; color: #999; text-align: center; margin-top: 10rpx; }
.card-row { display: flex; justify-content: space-between; font-size: 30rpx; margin-bottom: 10rpx; border-bottom: 1rpx dashed #ccc; padding-bottom: 10rpx;}
.c-label { color: #666; }
.c-val { font-weight: bold; color: #333; }

.other-msg { flex-direction: row; }
.other-msg .bubble { background: #FFF; color: #1C1C1E; }

.my-msg { flex-direction: row-reverse; }
.my-msg .avatar { margin-right: 0; margin-left: 16rpx; display: block; }
.my-msg .msg-col { align-items: flex-end; } /* 自己的消息右对齐 */
.my-msg .nickname { display: none; } /* 自己不显示昵称 */
.my-msg .bubble { background: #34C759; color: #FFF; }

.status-row { margin-top: 4rpx; margin-right: 90rpx; text-align: right; display: flex; flex-direction: column; align-items: flex-end;}
.read-txt { font-size: 20rpx; color: #999; }
.read-txt.un { color: #ccc; }
.time-txt { font-size: 20rpx; color: #ccc; margin-bottom: 10rpx; align-self: center; margin-right: -90rpx; width: 100%; text-align: center; display: block;}

.input-area { position: fixed; bottom: 0; width: 100%; background: #F6F6F6; padding: 20rpx 24rpx; padding-bottom: calc(20rpx + env(safe-area-inset-bottom)); display: flex; align-items: center; border-top: 1rpx solid #dcdcdc; z-index: 1000; transition: bottom 0.1s ease-out; box-sizing: border-box; }
.more-btn-q { width: 60rpx; height: 60rpx; border-radius: 50%; background: #FFFFFF; display: flex; align-items: center; justify-content: center; margin-right: 20rpx; box-shadow: 0 2rpx 6rpx rgba(0,0,0,0.1); position: relative; }
.more-btn-q:active { background: #f0f0f0; transform: scale(0.95); }
.plus-icon { width: 32rpx; height: 32rpx; position: relative; }
.plus-icon::before, .plus-icon::after { content: ''; position: absolute; background: #555; border-radius: 4rpx; top: 50%; left: 50%; transform: translate(-50%, -50%); }
.plus-icon::before { width: 4rpx; height: 100%; } 
.plus-icon::after { width: 100%; height: 4rpx; } 
.msg-input { flex: 1; background: #FFF; height: 76rpx; border-radius: 12rpx; padding: 0 20rpx; font-size: 30rpx; }
.send-btn { width: 110rpx !important; height: 76rpx; margin-left: 20rpx; background: #34C759; color: #fff; font-size: 28rpx; padding: 0; display: flex; align-items: center; justify-content: center; border-radius: 12rpx; font-weight: 600; }
.more-panel { position: fixed; bottom: 0; left: 0; width: 100%; height: 300rpx; background: #F6F6F6; border-top: 1rpx solid #dcdcdc; z-index: 1001; padding: 40rpx 50rpx; box-sizing: border-box; display: flex; padding-bottom: calc(40rpx + env(safe-area-inset-bottom)); }
.panel-item { display: flex; flex-direction: column; align-items: center; margin-right: 60rpx; }
.p-icon { width: 110rpx; height: 110rpx; background: #FFF; border-radius: 24rpx; display: flex; align-items: center; justify-content: center; font-size: 50rpx; margin-bottom: 16rpx; border: 1rpx solid #e5e5e5; }
.panel-item text { font-size: 24rpx; color: #888; }
.modal-mask { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; display: flex; align-items: center; justify-content: center; }
.modal-box { width: 600rpx; background: #fff; border-radius: 24rpx; padding: 40rpx; }
.modal-title { text-align: center; font-size: 32rpx; font-weight: bold; margin-bottom: 40rpx; }
.input-row { display: flex; border: 1rpx solid #ddd; border-radius: 12rpx; height: 88rpx; align-items: center; margin-bottom: 40rpx; padding: 0 20rpx; }
.type-sel { font-weight: bold; margin-right: 20rpx; color: #333; }
.c-input { flex: 1; font-size: 28rpx; }
.modal-btns { display: flex; justify-content: space-between; }
.c-btn { width: 48% !important; height: 80rpx; border-radius: 40rpx; font-size: 28rpx; display: flex; align-items: center; justify-content: center; margin: 0;}
.c-btn.cancel { background: #f5f5f5; color: #666; }
.c-btn.confirm { background: #34C759; color: #fff; }