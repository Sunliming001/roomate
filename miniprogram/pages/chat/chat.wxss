page { background: #F6F6F6; height: 100%; overflow: hidden; }
.container { height: 100%; display: flex; flex-direction: column; }

/* 自定义头部 */
.custom-header {
  position: fixed; top: 0; left: 0; width: 100%; 
  background: #EDEDED; z-index: 100; border-bottom: 1rpx solid #dcdcdc;
  display: flex; align-items: center;
}
.header-row { width: 100%; height: 100%; display: flex; align-items: center; padding: 0 20rpx; position: relative; }
.back-btn { font-size: 40rpx; padding: 10rpx 20rpx; font-weight: bold; }
.header-title { position: absolute; left: 50%; transform: translateX(-50%); font-weight: bold; font-size: 30rpx; max-width: 60%; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }

/* 滚动区域 */
.chat-scroll { width: 100%; height: 100vh; box-sizing: border-box; }

/* 消息气泡 */
.msg-row { display: flex; margin-bottom: 30rpx; align-items: flex-start; padding: 0 20rpx; }
.avatar { width: 80rpx; height: 80rpx; border-radius: 10rpx; background: #ddd; }
.bubble { max-width: 65%; padding: 20rpx; border-radius: 16rpx; font-size: 30rpx; line-height: 1.4; position: relative; margin: 0 20rpx; word-break: break-all; }

.other-msg { flex-direction: row; }
.other-msg .bubble { background: #fff; color: #333; }

.my-msg { flex-direction: row-reverse; }
.my-msg .bubble { background: #95EC69; color: #000; }

/* 底部输入框 (安全区适配) */
.input-area {
  position: fixed; bottom: 0; width: 100%; background: #F6F6F6;
  padding: 20rpx; 
  /* 核心：控制在安全边界内 */
  padding-bottom: calc(20rpx + env(safe-area-inset-bottom));
  display: flex; align-items: center; border-top: 1rpx solid #ddd;
  z-index: 101;
}
.msg-input { flex: 1; background: #fff; height: 72rpx; border-radius: 10rpx; padding: 0 20rpx; font-size: 30rpx; }
.send-btn { width: 120rpx !important; height: 72rpx; margin-left: 20rpx; background: #07C160; color: #fff; font-size: 28rpx; padding: 0; display: flex; align-items: center; justify-content: center; border-radius: 10rpx; }